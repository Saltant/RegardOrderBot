[![Build Status](https://travis-ci.com/Saltant/RegardOrderBot.svg?branch=master)](https://travis-ci.com/Saltant/RegardOrderBot)
![GitHub all releases](https://img.shields.io/github/downloads/Saltant/RegardOrderBot/total)
# Регард Бот
Бот для автоматического заказа с сайта 'Regard.ru'
Приложение позволяет отслеживать заданные товары с онлайн магазина Регард, сообщать об их наличии при появлении (сообщением на почтовый ящик), а так же заказать данные товары. Проверка товара на наличие осуществляется каждые 5 секунд, КРАЙНЕ не рекомендуется уменьшать данное число, это может привести к повышенной нагрузке на сервер магазина и последующюю блокировку вашего соединения с ним.

<h5>Важная информация.</h5>

1. Приложение автоматически завершает отслеживание товара при его успешном заказе.
2. Приложение автоматически завершается при ошибках с которыми не совместима логика заказа и отслеживания.
3. Приложение автоматически завершается при отсутствии товаров для отслеживания.

Подробные сообщения с ошибками и иной информацией будут выводиться в консоль приложения.

<h2>В файле appsettings.json хранятся настройки приложения.</h2>
Для начала работы нужно заполнить поля:

1. <code>Email</code> - почтовый ящик с которого будут присылаться уведомления.
2. <code>EmailPassword</code> - пароль от почтового ящика с которого будут присылаться уведомления.
3. <code>UserName</code> - имя на которое будет оформляться заказ товара.
4. <code>UserPhoneNumber</code> - номер телефона на который будет произведен звонок от менеджера магазина.

В секции <code>ClientEmail</code> - можно указать почтовый ящик на который будут присылаться уведомления, при установке поля <code>ClientEmailIsSameAsServerEmail</code> в <code>true</code>, почта будет доставляться на тот же ящик с которого отправляется.
Если пользуетесь иным провайдером почты, не mail.ru, вы должны указать настройки <code>EmailSmtpHost</code> и <code>EmailSmtpPort</code> вашего провайдера.

<h2>В файле products.json хранятся настройки отслеживаемых товаров.</h2>
Для начала работы нужно заполнить поля:

1. <code>ArtNumber</code> - артикул товара который будет отслеживаться для заказа.
2. <code>MaxPrice</code> - максимальная цена по которой вы готовы заказать данный товар.

Можно отслеживать сразу несколько товаров, для этого нужно в products.json добавить еще один объект с товаром, выглядеть все должно так:
```json
{
  "Products": [
    {
      "ArtNumber": 1,
      "MaxPrice": 123
    },
    {
      "ArtNumber": 2,
      "MaxPrice": 321
    }
  ]
}
```

<h2>Аргументы командной строки.</h2>
Если требуется отслеживать всего одно наименование товара, можно запустить приложение с аргументами командной строки:
<code>regardorderbot.exe --art=123 --maxprice=321</code>
где 123 - артикул товара, 321 - максимальная цена для заказа.

<h2>Работа приложения на системе Windows.</h2>
Приложение реализовано в качестве консольного исполняемого файла, его лучше всего запускать через <code>cmd.exe</code>, что бы оставить на экране выводы логов при завершении приложения.

<h2>Работа приложения на системе Linux.</h2>
Наиболее предпочитаемая платформа, приложение поддерживает работу с сервисом <code>systemd</code> и соответственно логированием через <code>journalctl</code>.
